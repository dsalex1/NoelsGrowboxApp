import{a as m,_ as D,V as F}from"./types-f2o1YmBV.js";import{_ as T}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-QkONkFHW.js";import{d as $,T as j,o as d,g as V,a as e,u as a,w as l,F as b,m as s,Z as z,e as r,c as h,h as Z,p as q,b as y,t as H,H as A}from"./app-rPp-BjrY.js";import"./ApplicationLogo-Do3oUbV9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"me-4"},J={class:"d-flex justify-end"},W=$({__name:"Settings",props:{schedule:{}},setup(S){var _,p;const u=S,n=j({cycleLength:((_=u.schedule)==null?void 0:_.cycle_length)||107,items:((p=u.schedule)==null?void 0:p.items)||[{label:"Early Veg.",start:0,color:"#a000e0",vpd:.6,lightHours:1},{label:"Veg.",start:10,color:"#0000b0",vpd:.6,lightHours:2},{label:"Bloom 1",start:30,color:"#00b0b0",vpd:1,lightHours:12},{label:"Bloom 2",start:60,color:"#30b000",vpd:1.4,lightHours:12},{label:"Bloom End",start:100,color:"#d09000",vpd:1.4,lightHours:8},{label:"End",start:105,color:"#c02000",vpd:1,lightHours:0}]});function w(){n.transform(i=>({cycle_length:i.cycleLength,items:i.items})).post(route("schedules.store"))}return(i,v)=>{const L=s("v-alert"),c=s("v-col"),f=s("v-row"),g=s("v-icon"),x=s("v-list-item"),B=s("v-select"),U=s("v-timeline-item"),C=s("v-timeline"),k=s("v-card"),N=s("v-btn");return d(),V(b,null,[e(a(z),{title:"Settings"}),e(T,null,{header:l(()=>[r("Settings")]),default:l(()=>[a(n).recentlySuccessful?(d(),h(L,{key:0,type:"success",variant:"tonal",class:"mb-2",dismissible:""},{default:l(()=>[r("Schedule Saved")]),_:1})):Z("",!0),e(f,null,{default:l(()=>[e(c,{cols:12},{default:l(()=>[e(a(m),{modelValue:a(n).cycleLength,"onUpdate:modelValue":v[0]||(v[0]=o=>a(n).cycleLength=o),label:"Cycle Length (days)",min:0,"hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(C,{side:"end"},{default:l(()=>[(d(!0),V(b,null,q(a(n).items,(o,P)=>(d(),h(U,{"dot-color":o.color,size:"small"},{default:l(()=>[e(f,{style:{width:"80vw"},class:"py-2"},{default:l(()=>[e(c,{cols:"12",md:"2",class:"d-flex align-center"},{default:l(()=>[y("strong",G,H(o.label),1)]),_:2},1024),e(c,{cols:"12",md:"4"},{default:l(()=>[e(B,{modelValue:o.vpd,"onUpdate:modelValue":t=>o.vpd=t,itemProps:t=>({title:t.vpd_range,subtitle:t.description,value:t.median_vpd_value}),items:a(F),label:"VPD","hide-details":""},{item:l(({item:t,props:E})=>[e(x,A({ref_for:!0},E),{prepend:l(()=>[e(g,{color:t.raw.color},{default:l(()=>[r("mdi-circle")]),_:2},1032,["color"])]),_:2},1040)]),selection:l(({item:t})=>[e(g,{color:t.raw.color,class:"me-2"},{default:l(()=>[r("mdi-circle")]),_:2},1032,["color"]),r(" "+H(t.raw.vpd_range),1)]),_:2},1032,["modelValue","onUpdate:modelValue","itemProps","items"])]),_:2},1024),e(c,{cols:"12",md:"3"},{default:l(()=>[e(a(m),{disabled:P==0,modelValue:o.start,"onUpdate:modelValue":t=>o.start=t,label:"Start (days)",min:0},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:2},1024),e(c,{cols:"12",md:"3"},{default:l(()=>[e(a(m),{modelValue:o.lightHours,"onUpdate:modelValue":t=>o.lightHours=t,label:"Light Hours",min:0,max:24},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["dot-color"]))),256))]),_:1}),e(k,null,{default:l(()=>[e(D,{"model-value":a(n).items.map(o=>({...o,value:o.start})),start:0,end:a(n).cycleLength,class:"m-5 ps-6"},null,8,["model-value","end"])]),_:1}),y("div",J,[e(N,{loading:a(n).processing,color:"primary",class:"mt-4",onClick:w},{default:l(()=>[r("Save")]),_:1},8,["loading"])])]),_:1})],64)}}});export{W as default};
